{"id":"aee93357-7566-4bf3-a90f-e299853bc499","revision":0,"last_node_id":35,"last_link_id":79,"nodes":[{"id":21,"type":"VHS_LoadVideo","pos":[-5740,1540],"size":[247.455078125,576.7278442382812],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[79]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"a7ce59e381934733bfae03b1be029756d6ce936d","Node name for S&R":"VHS_LoadVideo","widget_ue_connectable":{}},"widgets_values":{"video":"Recording 2025-06-19 203359Segment[3].mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":true,"params":{"filename":"Recording 2025-06-19 203359Segment[3].mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":35,"type":"BatchLoadImages","pos":[-5400,1540],"size":[319.3540954589844,106],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"input_images","name":"input_images","shape":7,"type":"IMAGE","link":79},{"localized_name":"image_directory","name":"image_directory","type":"STRING","widget":{"name":"image_directory"},"link":null},{"localized_name":"subdirectories","name":"subdirectories","type":"COMBO","widget":{"name":"subdirectories"},"link":null},{"localized_name":"use_input_images","name":"use_input_images","shape":7,"type":"BOOLEAN","widget":{"name":"use_input_images"},"link":null}],"outputs":[{"localized_name":"image","name":"image","shape":6,"type":"IMAGE","links":[77,78]}],"properties":{"aux_id":"ialhabbal/OcclusionMask","ver":"673aa4e5c0e4dbeec6b9f6b49db82fa154897f30","Node name for S&R":"BatchLoadImages","widget_ue_connectable":{}},"widgets_values":["F:\\ComfyUI Models\\output\\test","false",true]},{"id":3,"type":"ImageOcclusion","pos":[-5010,1660],"size":[287.404296875,270],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"input_image","name":"input_image","type":"IMAGE","link":77},{"localized_name":"mask_type","name":"mask_type","type":"COMBO","widget":{"name":"mask_type"},"link":null},{"localized_name":"object_mask_threshold","name":"object_mask_threshold","type":"FLOAT","widget":{"name":"object_mask_threshold"},"link":null},{"localized_name":"feather_radius","name":"feather_radius","type":"INT","widget":{"name":"feather_radius"},"link":null},{"localized_name":"grow_left","name":"grow_left","type":"INT","widget":{"name":"grow_left"},"link":null},{"localized_name":"grow_right","name":"grow_right","type":"INT","widget":{"name":"grow_right"},"link":null},{"localized_name":"grow_up","name":"grow_up","type":"INT","widget":{"name":"grow_up"},"link":null},{"localized_name":"grow_down","name":"grow_down","type":"INT","widget":{"name":"grow_down"},"link":null},{"localized_name":"dilation_radius","name":"dilation_radius","type":"INT","widget":{"name":"dilation_radius"},"link":null},{"localized_name":"expansion_iterations","name":"expansion_iterations","type":"FLOAT","widget":{"name":"expansion_iterations"},"link":null}],"outputs":[{"localized_name":"OriginalImage","name":"OriginalImage","type":"IMAGE","links":[55]},{"localized_name":"SelectedMask","name":"SelectedMask","type":"MASK","links":[5,21]}],"properties":{"aux_id":"ialhabbal/OcclusionMask","ver":"d553aa433ef23ea63baf98fe88a117119bec8909","Node name for S&R":"ImageOcclusion","widget_ue_connectable":{}},"widgets_values":["Object-only",0.7676984476285336,50,0,0,0,0,0,6.143749247439234]},{"id":10,"type":"LoadImage","pos":[-5360,1910],"size":[274.080078125,314.0001220703125],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.40","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["Screenshot 2025-06-19 204704.jpg","image"]},{"id":12,"type":"MaskToImage","pos":[-4670,1780],"size":[184.62362670898438,26],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":21}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[22]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":13,"type":"SaveImage","pos":[-4450,1830],"size":[690,660],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":22},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["Mask\\Mask_"]},{"id":2,"type":"ReActorFaceSwapOpt","pos":[-3260,1200],"size":[315,258],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"input_image","name":"input_image","type":"IMAGE","link":55},{"localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":10},{"localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":null},{"localized_name":"options","name":"options","shape":7,"type":"OPTIONS","link":null},{"localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":null},{"localized_name":"enabled","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"swap_model","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"face_restore_model","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"face_restore_visibility","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"codeformer_weight","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[4]},{"localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","links":null}],"properties":{"aux_id":"comfyui-reactor-node.git","ver":"976a8c51bab55fe5443392566ab4e6a9315eed6a","Node name for S&R":"ReActorFaceSwapOpt","widget_ue_connectable":{}},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.onnx",1,1]},{"id":7,"type":"LoadImage","pos":[-3670,1270],"size":[308.34979248046875,426.8008117675781],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[10]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["Screenshot 2025-06-08 212555.png","image"]},{"id":5,"type":"ReActorMaskHelper","pos":[-2780,1730],"size":[296.755859375,454],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":78},{"localized_name":"swapped_image","name":"swapped_image","type":"IMAGE","link":4},{"localized_name":"mask_optional","name":"mask_optional","shape":7,"type":"MASK","link":5},{"localized_name":"bbox_model_name","name":"bbox_model_name","type":"COMBO","widget":{"name":"bbox_model_name"},"link":null},{"localized_name":"bbox_threshold","name":"bbox_threshold","type":"FLOAT","widget":{"name":"bbox_threshold"},"link":null},{"localized_name":"bbox_dilation","name":"bbox_dilation","type":"INT","widget":{"name":"bbox_dilation"},"link":null},{"localized_name":"bbox_crop_factor","name":"bbox_crop_factor","type":"FLOAT","widget":{"name":"bbox_crop_factor"},"link":null},{"localized_name":"bbox_drop_size","name":"bbox_drop_size","type":"INT","widget":{"name":"bbox_drop_size"},"link":null},{"localized_name":"sam_model_name","name":"sam_model_name","type":"COMBO","widget":{"name":"sam_model_name"},"link":null},{"localized_name":"sam_dilation","name":"sam_dilation","type":"INT","widget":{"name":"sam_dilation"},"link":null},{"localized_name":"sam_threshold","name":"sam_threshold","type":"FLOAT","widget":{"name":"sam_threshold"},"link":null},{"localized_name":"bbox_expansion","name":"bbox_expansion","type":"INT","widget":{"name":"bbox_expansion"},"link":null},{"localized_name":"mask_hint_threshold","name":"mask_hint_threshold","type":"FLOAT","widget":{"name":"mask_hint_threshold"},"link":null},{"localized_name":"mask_hint_use_negative","name":"mask_hint_use_negative","type":"COMBO","widget":{"name":"mask_hint_use_negative"},"link":null},{"localized_name":"morphology_operation","name":"morphology_operation","type":"COMBO","widget":{"name":"morphology_operation"},"link":null},{"localized_name":"morphology_distance","name":"morphology_distance","type":"INT","widget":{"name":"morphology_distance"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"sigma_factor","name":"sigma_factor","type":"FLOAT","widget":{"name":"sigma_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[6]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null},{"localized_name":"MASK_PREVIEW","name":"MASK_PREVIEW","type":"IMAGE","links":null},{"localized_name":"SWAPPED_FACE","name":"SWAPPED_FACE","type":"IMAGE","links":null}],"properties":{"aux_id":"comfyui-reactor-node.git","ver":"976a8c51bab55fe5443392566ab4e6a9315eed6a","Node name for S&R":"ReActorMaskHelper","widget_ue_connectable":{}},"widgets_values":["bbox/Eyeful_v2-Paired.pt",0.5,10,3,10,"sam_vit_b_01ec64.pth",0,0.93,0,0.7,"False","dilate",0,9,1]},{"id":6,"type":"SaveImage","pos":[-2410,1720],"size":[1330,1350],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":6},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.40","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["test1\\Output_"]}],"links":[[4,2,0,5,1,"IMAGE"],[5,3,1,5,2,"MASK"],[6,5,0,6,0,"IMAGE"],[10,7,0,2,1,"IMAGE"],[21,3,1,12,0,"MASK"],[22,12,0,13,0,"IMAGE"],[55,3,0,2,0,"IMAGE"],[77,35,0,3,0,"IMAGE"],[78,35,0,5,0,"IMAGE"],[79,21,0,35,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ue_links":[],"links_added_by_ue":[],"ds":{"scale":0.2853116706110265,"offset":[5636.072047004631,-820.9645875813433]},"frontendVersion":"1.21.7","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}